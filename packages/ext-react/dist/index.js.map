{"version":3,"sources":["../src/index.js"],"names":["React","reactify","globalRoot","render","component","target","push","ReactDOM","settings","l","name","val","val2","val3","val4","debug","console","group","undefined","log","groupEnd","configure","default","Template","renderWhenReady","Ext","window","go","callback","element","namespace","application","launch","Viewport","getRenderTarget","dom","rootElement","appElement","createElement","theElements","ExtReact","rootComponent","options","viewport","style","document","innerHTML","head","appendChild","setAttribute","body","appConfig","getElementById","install","warn"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport { reactify } from './reactify'\n\n//export function ExtReact() {} //??\n//import { reactify } from '@sencha/ext-react'\n//var ExtReact = reactify('ExtReact')\n\nvar globalRoot = []\nexport { globalRoot }\nexport function render(component, target) {\n  globalRoot.push(target)\n  ReactDOM.render(component, target)\n}\n\nimport { settings } from './reactify'\nexport { reactify }\n\nexport function l(name,val,val2,val3,val4){\n  //settings.debug = true\n  if (settings.debug) { \n    console.group(name);\n    if (val != undefined) {\n      console.log(val)\n    }\n    if (val2 != undefined) {\n      console.log(val2)\n    }\n    if (val3 != undefined) {\n      console.log(val3)\n    }\n    if (val4 != undefined) {\n      console.log(val4)\n    }\n    console.groupEnd();\n  }\n}\n\nimport ReactDOM from 'react-dom';\nimport './overrides';\nimport { configure } from './reactify';\n\nexport { default as Template } from './Template';\nexport { default as renderWhenReady } from './renderWhenReady';\n\nconst Ext = window.Ext;\n\nexport function go({callback, element}) {\n  Ext.namespace('Ext.react').ReactDOM = ReactDOM; // needed for RendererCell and any other components that can render React elements;\n  //var rootEl = rootElement\n// \n  Ext.application({\n    name: '$ExtReactApp',\n//    ...appConfig,\n    launch: () => {\n      if (Ext.Viewport && Ext.Viewport.getRenderTarget) {\n        // modern, ext-react\n        const target = Ext.Viewport.getRenderTarget().dom;\n        if (callback != undefined) {\n          var rootElement = element\n//        if (typeof rootComponent === 'function') {\n          //r theElement = React.createElement(rootElement,null)\n\n          //rootComponent(<ExtReact></ExtReact>, target);\n          //rootComponent(rootElement, target);\n                    //var theElements = <ExtReact> <element/> </ExtReact>\n\n                    var appElement = React.createElement(rootElement)\n                    //var v1 = React.isValidElement(e1)\n                    //var m = React.Children.map(rootElement, null)\n                    //var o1 = React.Children.only(e1)\n\n          var theElements = React.createElement(ExtReact,null,[...appElement])\n          //var theElements = React.createElement(ExtReact,null,React.createElement(element,null,null))\n          //var theElements = React.createElement(element)\n\n          callback(theElements, target);\n        }\n        if (rootComponent) {\n          ReactDOM.render(<ExtReact>React.createElement(rootComponent,null)</ExtReact>, target);\n        }\n      } else {\n        // classic\n        if (options.viewport || rootComponent) {\n          const style = document.createElement('style');\n          style.innerHTML = 'html, body, div[reactroot] { height: 100%; }';\n          document.head.appendChild(style);\n        }\n\n        const target = document.createElement('div');\n        target.setAttribute('reactroot', 'on');\n        target.setAttribute('class', 'reactroot');\n        document.body.appendChild(target);\n\n        if (typeof rootComponent === 'function') {\n          rootComponent = rootComponent(target);\n        }\n\n        if (rootComponent) {\n          ReactDOM.render(rootComponent, target);\n        }\n      }\n    }\n  });\n\n\n\n}\n\n\n\n\n\n\n/**\n * Launches an ExtReact application, creating a viewport and rendering the specified root component into it.\n * @xparam {React.Component/Function} rootComponent You application's root component, or a function that returns the root component.\n * @xparam {Object} [options] Additional config parameters for ExtReact.\n * @xparam {Object} options.debug Set to true to show debug information in the console related to creating, updating, and destroying Ext JS components.\n * @xparam {Object} options.viewport  When using Ext JS classic, set to true to have the root component sized to the full height and width of the window.\n * @xparam {Object} [appConfig] Additional config parameters for Ext.application\n */\nexport function launch(rootComponent, options = { debug: false, viewport: false }, appConfig = { }) {\n  console.log('launch')\n  configure(options)\n  Ext.namespace('Ext.react').ReactDOM = ReactDOM; // needed for RendererCell and any other components that can render React elements;\n\n// \n  Ext.application({\n    name: '$ExtReactApp',\n    ...appConfig,\n    launch: () => {\n      if (Ext.Viewport && Ext.Viewport.getRenderTarget) {\n        // modern, ext-react\n//        const target = Ext.Viewport.getRenderTarget().dom;\n\n        const target = document.getElementById('root')\n\n        if (typeof rootComponent === 'function') {\n          rootComponent = rootComponent(target);\n        }\n        if (rootComponent) {\n          console.log('rootComponent')\n          console.log(rootComponent)\n          console.log('target')\n          console.log(target)\n\n          ReactDOM.render(rootComponent, target);\n        }\n      } else {\n        // classic\n        if (options.viewport || rootComponent) {\n          const style = document.createElement('style');\n          style.innerHTML = 'html, body, div[reactroot] { height: 100%; }';\n          document.head.appendChild(style);\n        }\n\n        const target = document.createElement('div');\n        target.setAttribute('reactroot', 'on');\n        target.setAttribute('class', 'reactroot');\n        document.body.appendChild(target);\n\n        if (typeof rootComponent === 'function') {\n          rootComponent = rootComponent(target);\n        }\n\n        if (rootComponent) {\n          ReactDOM.render(rootComponent, target);\n        }\n      }\n    }\n  });\n}\n\n/**\n * Configures React to resolve jsx tags.\n * @deprecated\n * @param {Object} options\n * @param {String} options.viewport When true, adds a stylesheet that mimics an Ext JS Viewport\n *  by setting the html, body, and react root element to height: 100%. Set this to true when using an\n *  Ext JS component at the root of your app.\n */\nexport function install(options) {\n  if (options.viewport) {\n    console.warn('[@sencha/ext-react] Warning: install({ viewport: true }) is deprecated.  Use launch(<App/>) in place of Ext.onReady(() => ReactDOM.render(<App/>, document.getElementById(\\'root\\'))).')\n  } else {\n    console.warn('[@sencha/ext-react] Warning: install() is deprecated.  Use launch(() => ReactDOM.render(<App/>, document.getElementById(\\'root\\'))) in place of Ext.onReady(() => ReactDOM.render(<App/>, document.getElementById(\\'root\\'))).')\n  }\n\n  launch(null, options);\n};\n"]}